
<div class="container">
  <div class="card" style="width: 18rem;">
  <div class="text-center">
      <%= image_tag @user.avatar, style:"max-width:100px", class: "rounded-circle" if @user.avatar.attached? %> 
       </div>
      <div class="card-body">
        <h1 class="card-title"><%= @user.first_name %> <%= @user.last_name %></h1>
        <p class="card-text">
            <ul>
              <li class="list-unstyled"> Job : <%= @user.job %></li>
                  <li class="list-unstyled"> Email : <%= @user.email %></li>
                  <hr>
              <li class="list-unstyled"> Description : <%=@user.description %></li> 
              <li class="list-unstyled"> Birthday : <%= @user.date_of_birth %></li> 
            </ul>
          </p>
          </div>
        </div>


  <h3>Change avatar ?</h3>

<%= form_tag avatars_path(@user), multipart: true do %>
  <%= file_field_tag :avatar, onchange:"myFunction()" %>
  <%= submit_tag "Update", disabled:true, id: 'submit_avatar' %>
<% end %>

</div>

<script>
function myFunction(){
  var x = document.getElementById("avatar");
  var s = document.getElementById("submit_avatar")
  var txt = "";
  if ('files' in x) {
    if (x.files.length == 0) {
      txt = "Select one or more files.";
      s.setAttribute('disabled','true');
    } else {
      s.removeAttribute('disabled');
    }
  } 
  document.getElementById("text").innerHTML = txt;
}
</script>


